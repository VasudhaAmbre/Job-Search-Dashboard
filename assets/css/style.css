/* ===============================
   Job Search Dashboard â€” UI Refresh
   =============================== */

:root{
  /* Colors (light) */
  --bg:#fafbfc;          /* page */
  --fg:#0f172a;          /* text */
  --card:#ffffff;        /* card/table bg */
  --muted:#475569;       /* secondary text */
  --line:#e5e7eb;        /* borders */
  --link:#0b5ed7;        /* links/buttons */
  --soft:#eef2ff;        /* subtle surfaces */
  --accent:#e7f1ff;      /* selected chip bg */
  --shadow: 0 10px 30px rgba(2,6,23,0.06);

  /* Layout */
  --radius:14px;
  --radius-lg:20px;
  --gap:16px;
  --wrap:1240px;

  /* Sticky offsets */
  --header-sticky-top: 76px;

  /* Typography */
  --h1: clamp(22px, 2.8vw, 28px);
  --text: 15px;
  --small: 12.5px;
}
.dark{
  --bg:#0b1220;
  --fg:#e5e7eb;
  --card:#0f172a;
  --muted:#94a3b8;
  --line:#192233;
  --link:#60a5fa;
  --soft:#0b1a36;
  --accent:#0d274a;
  --shadow: 0 12px 34px rgba(0,0,0,.28);
}

*{ box-sizing:border-box }
html, body{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji";
  font-size: var(--text);
  line-height:1.55;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.wrap{ max-width:var(--wrap); margin:0 auto; padding:20px; }

/* ---------------- Header ---------------- */
.app-header{
  position:sticky; top:0; z-index:40;
  background:linear-gradient(180deg, var(--bg) 0%, rgba(0,0,0,0) 100%);
  backdrop-filter: blur(8px);
  border-bottom:1px solid var(--line);
}
.brand{ display:flex; align-items:flex-end; gap:10px; }
.brand h1{ margin:0; font-size:var(--h1); font-weight:700; letter-spacing:.2px; }
.brand .tag{ font-size:var(--small); color:var(--muted); }
.header-actions{ display:flex; gap:12px; align-items:center; margin-top:10px; flex-wrap:wrap; }

/* Summary badges */
.badges{ display:flex; gap:8px; align-items:center; }
.badge{
  background:var(--accent); color:#1e3a8a; border:1px solid #bfdbfe;
  padding:6px 10px; border-radius:999px; font-size:12px; font-weight:600;
}
.dark .badge{ color:#93c5fd; border-color:#1d4ed8; }
.badge.muted{ background:transparent; color:var(--muted); border:1px solid var(--line); }

/* ---------------- Filters ---------------- */
#filters{
  border-top:1px solid var(--line); border-bottom:1px solid var(--line);
  background:transparent; /* cards handle their own bg */
  max-height:1000px; overflow:hidden; transition:max-height .35s ease;
}
#filters:not(.open){ max-height:0; border-top:0; border-bottom:0; }

.filters-grid{
  display:grid; grid-template-columns: 1fr 2fr; gap:var(--gap);
}
@media (max-width: 980px){ .filters-grid{ grid-template-columns: 1fr; } }

.card{
  background:var(--card); border:1px solid var(--line);
  border-radius:var(--radius); padding:16px;
  box-shadow: var(--shadow);
}
.card h3{ margin:0 0 10px 0; font-size:14px; color:var(--muted); text-transform:uppercase; letter-spacing:.6px; }

.card .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.divider{ height:1px; background:var(--line); margin:14px 0; }

input[type="text"], select{
  flex:1 1 auto; min-width:220px;
  background:var(--card); color:var(--fg); border:1px solid var(--line);
  border-radius:10px; padding:10px 12px; font-size:14px;
  transition:border-color .2s ease, box-shadow .2s ease;
}
input[type="text"]:focus, select:focus{
  outline:none; border-color:#93c5fd; box-shadow:0 0 0 3px rgba(147,197,253,.35);
}

.switch{ display:inline-flex; align-items:center; gap:8px; font-size:14px; color:var(--muted); }
.switch input{ width:40px; height:22px; }

/* Chips / pills */
.chips{ display:flex; flex-wrap:wrap; gap:8px; }
.chips.large .chip{ padding:9px 14px; font-size:13.5px; }
.chip{
  cursor:pointer; background:var(--bg); border:1px solid var(--line);
  padding:7px 12px; border-radius:999px; font-size:12.5px; transition:all .15s ease;
  user-select:none;
}
.chip:hover{ filter:brightness(0.98) }
.chip.active{ background:var(--accent); border-color:#bfdbfe; color:#1e40af; }
.dark .chip.active{ color:#93c5fd; border-color:#1d4ed8; }

/* Removable chips (locations/custom roles) */
.chip.removable{ position:relative; padding-right:28px; }
.chip-x{
  margin-left:8px; border:1px solid var(--line); background:transparent; color:var(--fg);
  width:20px; height:20px; line-height:18px; border-radius:999px; cursor:pointer; font-weight:700;
}
.chip-x:hover{ filter:brightness(0.9); }

/* Buttons */
.btn{
  background:var(--link); color:#fff; border:0; padding:10px 14px;
  border-radius:10px; cursor:pointer; font-weight:700; letter-spacing:.2px;
  transition:transform .06s ease, filter .15s ease;
}
.btn:hover{ filter:brightness(.96) }
.btn:active{ transform: translateY(1px); }
.btn.ghost{ background:transparent; color:var(--fg); border:1px solid var(--line); }
.btn.mini{ padding:8px 10px; border-radius:8px; font-weight:600; }

/* ---------------- Table ---------------- */
.table-wrap{
  margin-top:16px; border:1px solid var(--line); border-radius:var(--radius-lg);
  overflow:hidden; background:var(--card); box-shadow: var(--shadow);
}
table{ width:100%; border-collapse:collapse; table-layout: fixed; }

th, td{ border-bottom:1px solid var(--line); padding:14px 12px; vertical-align:top; }
th{
  text-align:left; font-size:13px; color:var(--muted);
  position:sticky; top: var(--header-sticky-top);
  background:rgba(255,255,255,.75); backdrop-filter: blur(6px);
  z-index:5;
}
.dark th{ background:rgba(15,23,42,.6); }

tbody tr:nth-child(odd){ background:rgba(2,6,23,0.02); }
.dark tbody tr:nth-child(odd){ background:rgba(255,255,255,0.02); }
tbody tr:hover{ background:rgba(2,6,23,.035); }
.dark tbody tr:hover{ background:rgba(255,255,255,.05); }

td a{ color:var(--link); text-decoration:none; font-weight:700; }
td a:hover, td a:focus{ text-decoration:underline; }

.q{ display:block; color:var(--muted); font-size:12.5px; margin-top:6px; word-break:break-word; }
.tools{ display:flex; gap:8px; margin-top:8px; }
.mini{
  padding:6px 8px; border-radius:8px; border:1px solid var(--line);
  background:transparent; color:var(--fg); font-size:12px; cursor:pointer;
}

/* Explicit column widths (sum 100%) */
th:nth-child(1), td:nth-child(1){ width:4%; }   /* # */
th:nth-child(2), td:nth-child(2){ width:18%; }  /* Portal */
th:nth-child(3), td:nth-child(3){ width:13%; }  /* SRE */
th:nth-child(4), td:nth-child(4){ width:13%; }  /* DevOps */
th:nth-child(5), td:nth-child(5){ width:13%; }  /* Cloud */
th:nth-child(6), td:nth-child(6){ width:13%; }  /* Apigee */
th:nth-child(7), td:nth-child(7){ width:22%; }  /* Domain */
th:nth-child(8), td:nth-child(8){ width:4%; }   /* Checkbox */

/* Floating toolbar */
.toolbar.floating{
  position:sticky; top: calc(var(--header-sticky-top) + 10px); z-index:35;
  display:flex; align-items:center; gap:10px;
  background:var(--soft); border:1px solid var(--line); padding:10px 12px; border-radius:12px;
  box-shadow: var(--shadow);
}

/* Footer */
.app-footer{ padding:18px 0 26px; }
.app-footer small{ color:var(--muted); }

/* Focus styles */
.mini:focus-visible, .btn:focus-visible, .chip:focus-visible, input:focus-visible, select:focus-visible{
  outline:3px solid rgba(96,165,250,.5); outline-offset:2px;
}

/* ------------- Responsive table widths ------------- */
@media (max-width: 1024px){
  th{ top: 120px; }
  th:nth-child(1), td:nth-child(1){ width:4%; }
  th:nth-child(2), td:nth-child(2){ width:28%; } /* Portal more space */
  th:nth-child(3), td:nth-child(3){ width:9%; }
  th:nth-child(4), td:nth-child(4){ width:9%; }
  th:nth-child(5), td:nth-child(5){ width:9%; }
  th:nth-child(6), td:nth-child(6){ width:9%; }
  th:nth-child(7), td:nth-child(7){ width:28%; } /* Domain */
  th:nth-child(8), td:nth-child(8){ width:4%; }
}
